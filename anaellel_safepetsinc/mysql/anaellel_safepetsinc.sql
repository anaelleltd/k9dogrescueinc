/*Create the database */
CREATE DATABASE anaellel_safepetsinc;

USE DATABASE anaellel_safepetsinc;


/*The commands to construct the database */
CREATE TABLE BRAND_SPONSORS
(ABN VARCHAR(25) NOT NULL PRIMARY KEY,
BUSINESS_NAME VARCHAR(25) NOT NULL,
WEBSITE VARCHAR(60) NOT NULL,
LOGO BLOB);

CREATE TABLE FUNDS 
(FUND_REFERENCE INT  NOT NULL AUTO_INCREMENT PRIMARY KEY,
POSTCODE VARCHAR(25) NOT NULL,
START_DATE DATE NOT NULL,
END_DATE DATE,
ABN VARCHAR(25),
ORGANISATION_NAME VARCHAR(25));

CREATE TABLE NFP_ORGANISATIONS
(ORGANISATION_NAME VARCHAR(25) NOT NULL PRIMARY KEY,
ORGANISATION_WEBSITE VARCHAR(60),
ADDRESS VARCHAR(60) NOT NULL,
CITY VARCHAR(25) NOT NULL,
POSTCODE VARCHAR(25) NOT NULL,
STATE VARCHAR(5) NOT NULL,
LOGO BLOB);

CREATE TABLE BANKING_RECORDS
(RECORD_ID INT  NOT NULL AUTO_INCREMENT PRIMARY KEY,
ACCOUNT_NUMBER VARCHAR(8) NOT NULL,
BSB VARCHAR(6) NOT NULL,
BANK_NAME VARCHAR(25) NOT NULL,
DATE_CREATED DATE NOT NULL,
DATE_MODIFIED DATE,
ORGANISATION_NAME VARCHAR(25));

CREATE TABLE SPONSORS
(SPONSOR_PHONE VARCHAR(25) NOT NULL PRIMARY KEY,
FIRSTNAME VARCHAR(25) NOT NULL,
LASTNAME VARCHAR(25) NOT NULL,
ADDRESS VARCHAR(60) NOT NULL,
CITY VARCHAR(25) NOT NULL,
POSTCODE VARCHAR(25) NOT NULL,
STATE VARCHAR(5) NOT NULL,
PAYMENT_STATUS VARCHAR(10) NOT NULL,
PET_OWNERSHIP CHAR(1),
RENTAL_STATUS CHAR(1),
PET_PREFERENCES VARCHAR(30),
RECORD_ID INT);

CREATE TABLE KENNELS
(KENNEL_NUMBER INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
ADDRESS VARCHAR(60) NOT NULL,
CITY VARCHAR(25) NOT NULL,
POSTCODE VARCHAR(25) NOT NULL,
STATE VARCHAR(5) NOT NULL,
PHONE VARCHAR(25),
ORGANISATION_NAME VARCHAR(25));

CREATE TABLE DOGS
(DOG_NAME VARCHAR(25) NOT NULL PRIMARY KEY,
DOB DATE NOT NULL,
SEX CHAR(1) NOT NULL,
BREED VARCHAR(25) NOT NULL,
WEIGHT INT,
SIZE CHAR(1) NOT NULL,
VET_CHECKS VARCHAR(25) NOT NULL,
DOG_DESCRIPTION VARCHAR(150),
ADOPTION_STATUS CHAR(1),
KENNEL_NUMBER INT,
STAFF_ID VARCHAR(25),
SPONSOR_PHONE VARCHAR(25));

CREATE TABLE STAFF
(STAFF_ID VARCHAR(25) NOT NULL PRIMARY KEY,
FIRSTNAME VARCHAR(25) NOT NULL,
LASTNAME VARCHAR(25) NOT NULL,
DOB DATE NOT NULL,
ADDRESS VARCHAR(60) NOT NULL,
CITY VARCHAR(25) NOT NULL,
POSTCODE VARCHAR(25) NOT NULL,
STATE VARCHAR(5) NOT NULL,
POLICE_CHECKS CHAR(1) NOT NULL,
START_DATE DATE NOT NULL,
END_DATE DATE);

CREATE TABLE DUTIES
(DUTY_TASK VARCHAR(25) NOT NULL PRIMARY KEY,
DATE_SET DATE NOT NULL,
DATE_DUE DATE,
COMPLETION_STATUS CHAR(1),
DOG_NAME VARCHAR(25),
STAFF_ID VARCHAR(25),
VOLUNTEER_NIK VARCHAR(10));

CREATE TABLE VOLUNTEERS
(VOLUNTEER_NIK VARCHAR(10) NOT NULL PRIMARY KEY,
FIRSTNAME VARCHAR(25) NOT NULL,
LASTNAME VARCHAR(25) NOT NULL,
DOB DATE NOT NULL,
ADDRESS VARCHAR(60) NOT NULL,
CITY VARCHAR(25) NOT NULL,
POSTCODE VARCHAR(25) NOT NULL,
STATE VARCHAR(5) NOT NULL,
POLICE_CHECKS CHAR(1) NOT NULL,
INDUCTION_CHECKS CHAR(1) NOT NULL,
START_DATE DATE NOT NULL,
END_DATE DATE NOT NULL);


/*The data to populate the database */
INSERT INTO BRAND_SPONSORS (ABN, BUSINESS_NAME, WEBSITE, LOGO) VALUES
(97069368234, 'PET CITY', 'https://www.petcitywa.com.au', LOAD_FILE('C:/xampp/img/petcity.jpg')),
(93470892841, 'MURPHYS IRISH PUB', 'http://www.murphysirishpub.com.au/', LOAD_FILE('C:/xampp/img/murphys.jpg')),
(54483191873, 'PORT KENNEDY VETERINARY HOSPITAL', 'https://portkennedyvet.com.au/', LOAD_FILE('C:/xampp/img/portkennedyvet.jpg'));

INSERT INTO NFP_ORGANISATIONS (ORGANISATION_NAME, ORGANISATION_WEBSITE, ADDRESS, CITY, POSTCODE, STATE, LOGO) VALUES
('K9 RESCUE GROUP INC', 'http://www.k9dogrescue.org.au/index.html', 'PO Box 220', 'Mandurah', '6210', 'WA', LOAD_FILE('C:/xampp/img/k9dogrescue.jpg'));

INSERT INTO FUNDS (FUND_REFERENCE, POSTCODE, START_DATE, ABN, ORGANISATION_NAME) VALUES
(1, '6021', '2015-11-01', 97069368234, 'K9 RESCUE GROUP INC'),
(2, '6210', '2008-05-01', 93470892841, 'K9 RESCUE GROUP INC'),
(3, '6172', '2013-04-01', 54483191873, 'K9 RESCUE GROUP INC');

INSERT INTO BANKING_RECORDS (RECORD_ID, ACCOUNT_NUMBER, BSB, BANK_NAME, DATE_CREATED, ORGANISATION_NAME) VALUES
(1, 12345678, 123456, 'HOLOBANK', '2018-07-01', 'K9 RESCUE GROUP INC'),
(2, 15935782, 123789, 'DUMBANK', '2017-03-01', 'K9 RESCUE GROUP INC'),
(3, 75385291, 789456, 'BITCOINBANK', '2015-04-01', 'K9 RESCUE GROUP INC'),
(4, 45675315, 789123, 'RAVEBANK', '2018-10-01', 'K9 RESCUE GROUP INC'),
(5, 36914764, 147258, 'WEYBANK', '2014-06-01', 'K9 RESCUE GROUP INC');

INSERT INTO KENNELS (KENNEL_NUMBER, ADDRESS, CITY, POSTCODE, STATE, ORGANISATION_NAME) VALUES
(1, '58 Sunshine Place', 'Nambeelup', '6207' ,'WA', 'K9 RESCUE GROUP INC'),
(2, '58 Sunshine Place', 'Nambeelup', '6207' ,'WA', 'K9 RESCUE GROUP INC'),
(3, '58 Sunshine Place', 'Nambeelup', '6207' ,'WA', 'K9 RESCUE GROUP INC'),
(4, '58 Sunshine Place', 'Nambeelup', '6207' ,'WA', 'K9 RESCUE GROUP INC'),
(5, '58 Sunshine Place', 'Nambeelup', '6207' ,'WA', 'K9 RESCUE GROUP INC');

INSERT INTO DOGS (DOG_NAME, DOB, SEX, BREED, SIZE, VET_CHECKS, ADOPTION_STATUS, KENNEL_NUMBER, STAFF_ID, SPONSOR_PHONE) VALUES
('Chevvy', '2017-10-08' , 'F', 'Rottweiler', 'M', 'Y', 'N', 1, 'C0004', ''),
('Butch', '2017-05-15' , 'M', 'Husky x Mastiff', 'L', 'Y', 'Y', 2, 'C0002', 0495810012),
('Durah', '2012-04-01' , 'F', 'Mastiff x', 'M', 'Y', 'Y', 3, 'C0005', 0495810015),
('Yogi', '2017-02-24' , 'M', 'Mastiff', 'L', 'Y', 'Y', 4, 'C0004', 0495810014),
('Marnie', '2017-01-01' , 'F', 'Staffy', 'M', 'Y', 'N', 5, 'C0001', '');

INSERT INTO SPONSORS (SPONSOR_PHONE, FIRSTNAME, LASTNAME, ADDRESS, CITY, POSTCODE, STATE, PAYMENT_STATUS, RECORD_ID) VALUES
(0495810018, 'Irena', 'D\'CRUZ', '21 Planet place', 'Nambeelup', '6207', 'WA', '07/2019', 1),
(0495810012, 'Jolly', 'JUMPING', '43 Levy avenue', 'Rockingham', '6168', 'WA', '03/2019', 2),
(0495810015, 'Soli', 'TARYSM', '95 Lonesome road', 'Perth', '6100', 'WA', '04/2019', 3),
(0495810014, 'Mourad', 'BENAZIR', '24 Awesome parade', 'Perth', '6100', 'WA', '10/2019', 4),
(0495810011, 'Ku-oon', 'LIN', '10 Viva street', 'Mandurah', '6210', 'WA', '06/2019', 5);

INSERT INTO STAFF (STAFF_ID, FIRSTNAME, LASTNAME, DOB, ADDRESS, CITY, POSTCODE, STATE, POLICE_CHECKS, START_DATE) VALUES
('C0001', 'Carol', 'CARTER', '1960-01-10', '10 Lorri street', 'Perth', '6100', 'WA', 'Y', '2014-01-10'),
('C0002', 'Carol', 'CAMPLIN', '1955-05-24', '24 Keet street', 'Perth', '6100', 'WA', 'Y', '2015-05-24'),
('C0003', 'Rhonda', 'DONOVAN', '1965-03-08', '48 South road', 'Busselton', '6280', 'WA', 'Y', '2013-03-08'),
('C0004', 'Duncan', 'PRATT', '1978-09-16', '7 Haskell Place', 'Mandurah', '6210', 'WA', 'Y', '2016-08-05' ),
('C0005', 'Janine', 'MATTHEWS', '1963-10-29', '2 Linux Boulevard', 'Nambelup', '6207', 'WA', 'Y', '2017-11-04');

INSERT INTO VOLUNTEERS (VOLUNTEER_NIK, FIRSTNAME, LASTNAME, DOB, ADDRESS, CITY, POSTCODE, STATE, POLICE_CHECKS, INDUCTION_CHECKS, START_DATE, END_DATE) VALUES
('Mike', 'Mike', 'PLUNKETT', '1960-12-15', '54 Hope street', 'Perth', '6100', 'WA', 'Y', 'Y', '2018-01-26', '2018-12-15'),
('Sally', 'Salome', 'DJAWAD', '1999-09-11', '63 Free road', 'Rockingham', '6168', 'WA', 'Y', 'Y', '2018-10-27', '2018-11-26'),
('Hik', 'Hikomori', 'SUSUME', '1997-06-13', '21 Garage parade', 'Rockingham', '6168', 'WA', 'Y', 'Y', '2018-08-24', '2018-12-23');

INSERT INTO DUTIES (DUTY_TASK, DATE_SET, DATE_DUE, COMPLETION_STATUS, DOG_NAME, STAFF_ID, VOLUNTEER_NIK) VALUES
('Cleaning', '2018-10-30', '2018-11-07', 'Y','Chevvy', 'C0002', 'Mike'),
('Vet visit', '2018-11-05', '2019-01-05', 'N','Yogi', 'C0001', 'Sally'),
('Grooming', '2018-11-04', '2018-12-23', 'N','Durah', 'C0002', 'Hik');


/*The integrity constraints */
ALTER TABLE FUNDS
ADD FOREIGN KEY (ABN) REFERENCES BRAND_SPONSORS (ABN);

ALTER TABLE FUNDS
ADD FOREIGN KEY (ORGANISATION_NAME) REFERENCES NFP_ORGANISATIONS (ORGANISATION_NAME);

ALTER TABLE BANKING_RECORDS
ADD FOREIGN KEY (ORGANISATION_NAME) REFERENCES NFP_ORGANISATIONS (ORGANISATION_NAME);

ALTER TABLE SPONSORS
ADD FOREIGN KEY (RECORD_ID) REFERENCES BANKING_RECORDS (RECORD_ID);

ALTER TABLE KENNELS
ADD FOREIGN KEY (ORGANISATION_NAME) REFERENCES NFP_ORGANISATIONS (ORGANISATION_NAME);

ALTER TABLE DOGS
ADD FOREIGN KEY (KENNEL_NUMBER) REFERENCES KENNELS (KENNEL_NUMBER);

ALTER TABLE DOGS
ADD FOREIGN KEY (STAFF_ID) REFERENCES STAFF (STAFF_ID);

/*ALTER TABLE DOGS
ADD FOREIGN KEY (SPONSOR_PHONE) REFERENCES SPONSORS (SPONSOR_PHONE);*/

ALTER TABLE DUTIES
ADD FOREIGN KEY (DOG_NAME) REFERENCES DOGS (DOG_NAME);

ALTER TABLE DUTIES
ADD FOREIGN KEY (STAFF_ID) REFERENCES STAFF (STAFF_ID);

ALTER TABLE DUTIES
ADD FOREIGN KEY (VOLUNTEER_NIK) REFERENCES VOLUNTEERS (VOLUNTEER_NIK);

